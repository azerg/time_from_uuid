language: cpp

addons:
  apt:
    packages:
    - cmake

compiler:
  - gcc
  
env:
  global:
   # The next declaration is the encrypted COVERITY_SCAN_TOKEN, created
   #   via the "travis encrypt" command using the project repo's public key
   - secure: "TH9bFhgiGN5ojv9NPNmqLBTMN673pRw9+2riKklpbBUDjkWEiwKml6irzQqydwqotvii+9+idTMyd8z0gzqUxRhQOpaBVxSJRIkirmhuNwxXT/I6K/ByN0S9ma6uzifxpg/oRMJh0GXIJ/t44FKeDUjpJsBEjVnunaUHn66PlFoxVS3S1BLkOhzg0C0yQzFHfN8Q3Yi49+V9o2jLjZYwWMjne69ZNP/UpXsE8Ez4VBFHQrktPvyYsOnbxVvGy679J5QV1JHvukefuG114nu5R2xodPUenmbg4z/0+css/P7Q4dbn0LwxRhd3TwRFNt7OyK99AHtjFf5Eyy3pzYhknVN/7FEl9XwzmtOPqwHNG6WHnvln6Z7ZBladmTM8KC6qhmtW95G090Yh0BlwmbzYsKSVCSijK8ADrnFebRCgUgqGJo73sXYqIyx9dO3gf5auQA9twvWktPbtCh19vG/1j7BaSr/yxVgR2rQhs9xfh1inin8Q7C5pTB68Q+BJJ8NmUDti39/UZj+7Zn9H9uNw1rHzFIFjGCijgE897xD4F5WtOY28nx3LxWPu1ah0Hw07/b0DTGxnXu+pcelq6yg3YkZt17AM8BCTUwQxDBQvYmyj+IHNJlex21HrPdmalap+DQomuhmv00ijD+hS2JpSHe7ZboxGFBD7GWDlJyEgxyk="

addons:
  coverity_scan:
    project:
      name: "azerg/time_from_uuid"
      description: "Build submitted via Travis CI"
    #notification_email: ...
    build_command_prepend: "./configure; make clean"
    build_command:   "make -j 4"
    branch_pattern: coverity_scan
  
before_script:
  - ls -l
  - wget -c 'http://sourceforge.net/projects/boost/files/boost/1.59.0/boost_1_59_0.tar.bz2/download'
  - tar xf download
  - rm download
  - echo '-----boost downloaded & extracted-----'
  - export BOOST_ROOT=$PWD/boost_1_59_0/
  - export GTEST_BUILD_NAME=gtest-1.7.0
  - wget 'http://googletest.googlecode.com/files/'$GTEST_BUILD_NAME'.zip'
  - unzip $GTEST_BUILD_NAME.zip
  - rm $GTEST_BUILD_NAME.zip
  - cd $GTEST_BUILD_NAME/cmake
  - cmake -DBUILD_SHARED_LIBS=ON -Dgtest_build_samples=ON -G"Unix Makefiles" ..
  - make
  - cd ../../
  - echo '-----gtest compiled-----'
  - export GTEST_ROOT=$PWD/gtest-1.7.0/
  - cmake . -B"build" -Wno-dev -DGTEST_ROOT=$GTEST_ROOT -DBOOST_ROOT=$BOOST_ROOT
script:
  - cd build
  - make
  - ./uuidTest
 